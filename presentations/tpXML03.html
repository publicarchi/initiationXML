<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!--THIS FILE IS GENERATED FROM AN XML MASTER. DO NOT EDIT (5)--><title>Initiation à XML du CRIHN</title><meta name="author" content="Lou Burnard Consulting" /><meta name="generator" content="Text Encoding Initiative Consortium XSLT stylesheets" /><meta name="DC.Title" content="Initiation à XML du CRIHN" /><meta name="DC.Type" content="Text" /><meta name="DC.Format" content="text/html" /><link href="http://www.tei-c.org/release/xml/tei/stylesheet/tei.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" media="print" type="text/css" href="http://www.tei-c.org/release/xml/tei/stylesheet/tei-print.css" /></head><body class="simple" id="TOP"><!--TEI front--><div class="titlePage"><div class="titlePart">TP03 – Utiliser un schéma</div><div class="docImprint">Introduction à XML | CRIHN, 17 février 2017</div><div class="note" id="Note1"><span class="noteLabel">Note: </span><a class="link_ref" href="https://github.com/publicarchitectura/initiationXML">Répertoire GitHub</a> | <a class="link_ref" href="00-programme.html">Programme</a></div></div><h2>Table of contents</h2><ul class="toc toc_body"><li class="toc"><span class="headingNumber">1. </span><a class="toc toc_0" href="#index.xml-body.1_div.1">Introduction</a></li><li class="toc"><span class="headingNumber">2. </span><a class="toc toc_0" href="#index.xml-body.1_div.2">Création d’un document nativement-numérique</a></li><li class="toc"><span class="headingNumber">3. </span><a class="toc toc_0" href="#index.xml-body.1_div.3">Ajout de texte au document</a></li><li class="toc"><span class="headingNumber">4. </span><a class="toc toc_0" href="#index.xml-body.1_div.4">L’affichage du texte balisé</a></li><li class="toc"><span class="headingNumber">5. </span><a class="toc toc_0" href="#index.xml-body.1_div.5">Importation d’un document bureautique</a></li></ul><!--TEI body--><div class="teidiv0" id="index.xml-body.1_div.1"><h2><span class="headingNumber">1. </span><span class="head">Introduction</span></h2><p>Dans ce premier exercice, nous allons nous servir d’oXygen pour : </p><ul><li class="item">la création d’un nouveau document XML</li><li class="item">le balisage progressif d’un document</li><li class="item">la validation continue d’un document</li><li class="item">l’affichage du document sans balise</li></ul></div><div class="teidiv0" id="index.xml-body.1_div.2"><h2><span class="headingNumber">2. </span><span class="head">Création d’un document nativement-numérique</span></h2><p>La <a class="link_ref" href="http://tei-c.org">Text Encoding Initiative (TEI)</a> propose un vocabulaire et des schémas destinés à l’édition des sources textuelles historiques ou littéraires. Mais la TEI ne sert pas uniquement à l’encodage de documents déjà existants sous forme manuscrite ou imprimée ou de textes épigraphiques. Elle peut aussi être utilisée pour la création de nouveaux documents créés <span class="foreign" lang="lat">ex nihilo</span>.</p><ul><li class="item">Ouvrir oXygen</li><li class="item">Cliquez sur l’icône <span class="ident">Nouveau</span> en haut à gauche (ou sélectionnez <span class="ident">Nouveau</span> dans le menu <span class="ident">Fichier</span>, ou bien tapez <span class="ident">Ctrl</span> + <span class="ident">N</span>) pour ouvrir la boîte de dialogue <span class="ident">Nouveau</span></li><li class="item">Choisissez <span class="ident">Cadre des modèles</span>, et dans la liste sélectionnez <span class="ident">TEI P5</span>, puis <span class="ident">Bare</span>, pour choisir un schéma TEI minimal.</li></ul><p><img class="graphic" src="../images/new-bare-1.png" alt="" style=" height:5cm;" /></p><ul><li class="item">Cliquez sur le bouton <span class="ident">Créer</span> en bas de la fenêtre.</li></ul><p>oXygen ouvre un document TEI que vous allez pouvoir compléter.</p><p>Le schéma TEI Bare que vous avez choisi contient un minimum de balises, mais il permet quand-même de décrire un document TEI complet. </p><p>On est maintenant dans l’espace de travail typique d’oXygen. Par défaut, il y a plusieurs fenêtre, autour de la fenêtre principale où nous allons pouvoir éditer notre document. Sur le côté gauche, dans la vue <span class="ident">Sommaire</span> s’affiche la structure hiérarchique de votre document.</p><p>Remarquez qu’un document TEI se compose de deux parties : En tête du fichier, vous trouvez les métadonnées, entourées par la balise <span class="gi">&lt;teiHeader&gt;</span>. Ensuite, un élément qui va contenir le texte de votre document, encadré par la balise <span class="gi">&lt;text&gt;</span>.</p><p><img class="graphic" src="../images/nouveau-bare-2.png" alt="" style=" height:5cm;" /></p><p>Remarques que vous pouvez modifier l’affichage du document en cliquant sur les boutons <span class="term">Texte</span>, <span class="term">Grille</span>, ou <span class="term">Auteur</span> en bas de la fenêtre principale. Le mode auteur permet d’afficher votre document dans un éditeur WYSIWIG. Comme nous n’avons pas peur des balises, nous allons commencer à éditer le document en mode <span class="term">Texte</span> !</p><p>On va d’abord fournir les métadonnées minimales nécessaires pour tout nouveau document TEI : le titre du fichier, des informations sur sa publication, et sa source. oXygen vous propose des éléments pré-remplis que nous allons modifier et compléter. </p><ul><li class="item">À l’intérieur de la balise <span class="gi">&lt;title&gt;</span>, donnez un titre à votre document. À vous de choisir ! Cela peut être ‘Mon premier document TEI !’ .</li><li class="item">Remplacez les deux autres contenus textuels proposés par défaut par des mentions plus appropriées. Par exemple, pour publication, on pourrait mettre <span class="q">‘Brouillon inédit’</span> ou <span class="q">‘Distribué sur mon blog’</span> ; dans <span class="gi">&lt;sourceDesc&gt;</span>, on vous propose <span class="q">‘Œuvre originale, guidée par une formation TEI’</span>.</li></ul><p>Par défaut, oXygen cherche à maintenir votre document dans un état valide. Qu’arrive-t-il si vous endommagez la structure hiérarchique de votre document ? </p><ul><li class="item">Effacez quelques lettres à l’intérieur de n’importe quelle balise : par exemple changez <span class="gi">&lt;publicationStmt&gt;</span> en <span class="gi">&lt;publicat&gt;</span>.</li><li class="item">Observez ce que fiat oXygen : le logiciel a changé la balise fermante correspondante pour lui faire correspondre le nouveau nom que vous lui avez donnée afin que le document reste bien formé. Mais celui-ci n’est plus valide contre le schéma TEI bare (qui ne définit aucune balise ‘publicat’). Par conséquent, les balises qui ne sont pas définies dans le schéma sont désormais soulignées en rouge et un message d’erreur s’affiche en bas de l’écran. Remarquez aussi l’indicateur rouge sur le côté droit de votre fenêtre principale.</li><li class="item">Cliquez sur ces indicateurs pour essayer de comprendre la manière dont une erreur peut en entraîner une autre.</li><li class="item">Tapez <span class="ident">Ctrl</span> + <span class="ident">Z</span> (ou sélectionnez <span class="ident">Annuler</span> dans le menu <span class="ident">Édition</span>) pour revenir dans un état de grâce… L’indicateur rouge, en haut à droite de la fenêtre principale, reprend sa couleur verte après correction de toutes les erreurs.</li></ul><p>Puisque votre document XML est associé à un schéma, oXygen va vous permettre d’ajouter facilement les balises définies dans le modèle de document. </p><ul><li class="item">Placez le curseur après la balise fermante <code>&lt;/title&gt;</code> et juste avant la balise fermante <code>&lt;/titleSmt&gt;</code>;</li><li class="item">Tapez <code>&lt;</code> et arrêtez-vous un instant ;</li><li class="item">L’indicateur vert repasse au rouge, parce que vous n’avez pas encore entré le nom de l’élément souhaité.</li><li class="item">Dans une fenêtre contextuelle, oXygen vous propose une liste des balises disponibles à cet emplacement dans le document : vous pouvez insérer ici un élément <span class="gi">&lt;author&gt;</span> ou encore un élément <span class="gi">&lt;title&gt;</span>, ou bien fermer l’élément <span class="gi">&lt;titleStmt&gt;</span>, ou encore insérer un commentaire XML, etc.</li><li class="item">Tapez sur la touche <span class="ident">Entrée</span> pour accepter le premier choix. oXygen insère dans votre document la balise ouvrante <span class="gi">&lt;author&gt;</span> et la balise fermante <code>&lt;/author&gt;</code>.</li><li class="item">Le curseur se place automatiquement à l’intérieur de la balise ouvrante, dans le cas où vous voudriez spécifier ses attributs. Déplacez le curseur d’un caractère vers la droite à l’intérieur de l’élément et renseignez votre nom, comme auteur du fichier.</li></ul></div><div class="teidiv0" id="index.xml-body.1_div.3"><h2><span class="headingNumber">3. </span><span class="head">Ajout de texte au document</span></h2><p>Voilà, nous sommes prêts à commencer la rédaction de notre document à l’intérieur de l’élément <span class="gi">&lt;text&gt;</span> ! À vous de décider de son contenu et de son balisage.</p><p>Identifiez d’abord, les composants disponibles pour dans votre document pour baliser le texte. À l’intérieur de l’élément <span class="gi">&lt;text&gt;</span>, vous avez un élément <span class="gi">&lt;body&gt;</span>. Au sein de cet élément <span class="gi">&lt;body&gt;</span>, le schéma <span class="term">bare</span> vous permet d’employer :</p><ul><li class="item">des titres… que vous balisez avec la balise <span class="gi">&lt;head&gt;</span></li><li class="item">des chapitres… que vous balisez avec la balise <span class="gi">&lt;div&gt;</span></li><li class="item">des listes… à baliser avec la balise <span class="gi">&lt;list&gt;</span> puis des sous-éléments <span class="gi">&lt;item&gt;</span></li><li class="item">des paragraphes… à baliser avec la balise <span class="gi">&lt;p&gt;</span></li></ul><p>Allons-y !</p><p>Dans la suite de ce petit tutoriel, nous allons vous présenter quelques fonctionnalités utiles offertes par ce logiciel. </p><p>D’abord, une question importante : Pour le contenu, OK, il faut le créer — mais est-ce qu’il faut toujours taper soi-même les balises ? Non : oXygen est là pour vous aider. Vous avez déjà vu comment il peut vous proposer la liste des balises disponibles à un certain emplacement du document. Il peut aussi vous suggérer comment baliser un morceau de texte sélectionné.</p><ul><li class="item">Avec la souris, sélectionnez le contenu du <span class="gi">&lt;body&gt;</span>, i.e. la séquence <code>&lt;p&gt;Some text here&lt;/p&gt;, y compris les balises.</code>.</li><li class="item">Tapez <span class="ident">Ctrl</span>+ <span class="ident">E</span> (ou sélectionnez <span class="ident">XML Refactoring</span> et ensuite <span class="ident">Entourer des balises</span> dans le menu <span class="ident">Document</span>).</li><li class="item">oXygen vous propose toutes les balises qui pourraient éventuellement être insérées à cet endroit précis du document : dans ce cas, il est conseillé de sélectionner <span class="gi">&lt;div&gt;</span>. Puis, cliquez sur <span class="ident">Accepter</span></li><li class="item">L’élément <span class="gi">&lt;div&gt;</span> va contenir le premier chapitre de votre document. Insérez donc un titre au début de ce <span class="gi">&lt;div&gt;</span>, en vous servant de la balise <span class="gi">&lt;head&gt;</span></li><li class="item">Il serait aussi utile de numéroter vos chapitres d’une manière explicite : pour cela, on vous propose l’attribut <span class="att">n</span> qui est disponible sur n’importe quel élément TEI, y compris <span class="gi">&lt;div&gt;</span>.</li><li class="item">Mettez le curseur <em>à l’intérieur</em> de la balise <span class="gi">&lt;div&gt;</span> juste avant le &gt; et tapez un seul espace. oXygen vous propose un menu des attributs disponibles.</li><li class="item">Tapez sur ENTRÉE pour sélectionnez <span class="att">n</span>. oXygen vous informe qu’il faut dans ce cas ajouter une valeur, et le curseur reste entre les guillemets.</li><li class="item">Tapez (par exemple) <code>1</code>, et votre document redeviendra valide.</li></ul><p>Votre document devrait maintenant ressembler à ceci :</p><p><img class="graphic" src="../images/body-shot.png" alt="" style=" height:4cm;" /></p><p>À vous d’ajouter maintenant du texte à ce paragraphe, de préférence un peu plus intéressant que <span class="q">‘some text here’</span> ! Décrivez-nous vos premières réactions avec oXygen ; partagez vos idées sur la situation politique actuelle ; écrivez ce que vous voulez.</p><p>Sans doute aurez-vous besoin de plus d’un seul paragraphe. Comment faire pour terminer celui-ci et commencer un nouveau ? Bien-sûr, on peut simplement taper les balises <code>&lt;/p&gt;&lt;p&gt;</code> mais il y a une manière plus simple de le faire.</p><p>Supposons que vous avez maintenant quelques centaines de mots dans votre seul paragraphe, et que vous voulez le diviser en plusieurs.</p><ul><li class="item">Placez le curseur au point de chaque division souhaitée </li><li class="item">Tapez <span class="ident">Alt</span> + <span class="ident">Maj</span> + <span class="ident">D</span> ou sélectionnez <span class="ident">Refactorisation</span> dans le menu contextuel puis <span class="ident">Élément de division</span> dans le menu <span class="ident">Document</span>.</li></ul><p>Vous pouvez faire pareil pour diviser le chapitre unique, mais attention à bien choisir un endroit valide pour effectuer la division : <em>entre</em> deux éléments <span class="gi">&lt;p&gt;</span>, et non pas à l’intérieur d’un <span class="gi">&lt;p&gt;</span>.</p><p>Dans un de vos chapitres, n’omettez pas d’ajouter une liste, balisée avec un élément <span class="gi">&lt;list&gt;</span>, contenant une séquence de <span class="gi">&lt;item&gt;</span> éléments, précédée d’un <span class="gi">&lt;head&gt;</span> facultatif.</p></div><div class="teidiv0" id="index.xml-body.1_div.4"><h2><span class="headingNumber">4. </span><span class="head">L’affichage du texte balisé</span></h2><p>Est-ce que la quantité de balises dans votre document commence à vous inquiéter un peu ? </p><p>On peut mettre en ordre le balisage que l’on a fait, en cliquant sur le bouton d’indentation, ou en tapant <span class="ident">Ctrl</span> + <span class="ident">Maj</span> + <span class="ident">P</span>, ou en sélectionnant <span class="ident">Source</span> → <span class="ident">Indenter le document</span> dans le menu <span class="ident">Document</span>. Mais peut être préféreriez-vous voir disparaître les balises ?</p><ul><li class="item">Au fond de la fenêtre vous voyez trois onglets : <span class="ident">Texte</span>, <span class="ident">Grille</span>, et <span class="ident">Auteur</span>. Sélectionnez le dernier. L’affichage de votre document change, et un nouveau menu <span class="ident">TEI P5</span> devient disponible. Sur ce menu, sélectionnez <span class="ident">Mode d’affichage</span> des balises et regardez les possibilités offertes par ces options.</li><li class="item">L’option <span class="ident">Toutes les balises</span> affiche les balises en icônes ; l’option <span class="ident">Aucune balise</span> les fait disparaître totalement.</li><li class="item">Notez en plus que votre document est maintenant stylé ; il y a des changements de police ; les retours de ligne sont traités comme des blancs ; etc. </li><li class="item">Dans le mode auteur, on peut diviser un élément simplement en tapant ENTRÉE deux fois. Vous pouvez essayez.</li></ul><p>Sachez que vous pourrez contrôler ici l’affichage de votre document avec une <span class="term">feuille de style CSS</span>.</p></div><div class="teidiv0" id="index.xml-body.1_div.5"><h2><span class="headingNumber">5. </span><span class="head">Importation d’un document bureautique</span></h2><p>La plupart des documents numériques que vous rencontrer le plus souvent vous paraissent sans doute indemnes de toute balise XML. Par exemple, les documents préparés à l’aide des outils bureautiques tels Microsoft Word ou avec Open Office se présentent en apparence comme du texte brut. Ce n’est qu’une apparence : En réalité derrière tout cela il existe un format XML, que l’on peut manipuler, et donc qu’on peut transformer dans un autre format XML comme celui de la TEI. </p><p>Vous trouverez dans votre dossier <span class="ident">exercices</span> un fichier intitulé <span class="ident">acteRoyal-s.docx</span> et un autre intitulé <span class="ident">acteRoyal.jpg</span>. Prenez connaissance de ces documents. Il s’agit d’un document manuscrit numérisé en mode image qui a ensuite été rapidement retranscrit avec Microsoft Word. On va se servir d’oXygen pour transformer automatiquement cette transcription en XML TEI.</p><p>En réalité, un fichier Microsoft Word au format docx est une archive compressée qui contient plusieurs autres fichiers, y compris des fichiers XML qu’on peut gérer et transformer avec oXygen comme n’importe quel autre fichier XML. La conversion prend en compte les styles du document existant dans le fichier, et peut être personnalisée.</p><ul><li class="item">Chargez oXygen. Sélectionnez <span class="ident">Ouvrir</span> dans le menu <span class="ident">Fichier</span> (ou tapez <code>CTRL-O</code>, ou cliquez l’icône dossier) et sélectionnez le fichier <span class="ident">acteRoyal.docx</span> dans votre dossier <span class="ident">exercices</span> .</li><li class="item">Une fenêtre intitulée <span class="ident">Navigateur d’Archives</span> s’ouvre à gauche de l’écran principal. Vous pouvez y observer la structure de l’archive docx.</li></ul><p><img class="graphic" src="../images/navigateur-1.png" alt="" style=" height:5cm;" /></p><ul><li class="item">Cliquez sur la petite clef bleue à côté du dossier <span class="ident">word</span> pour voir ce qu’il contient</li></ul><p><img class="graphic" src="../images/navigateur-2.png" alt="" style=" height:5cm;" /></p><ul><li class="item">Sélectionnez le fichier <span class="ident">document.xml</span> et double-cliquez pour l’ouvrir (cela peut prendre un peu de temps si le fichier est volumineux)</li><li class="item">Voilà : c’est un document XML, plein de balises, pour la plupart appartenant à un espace de nom défini par Microsoft. C’est une manière peu élégante d’utiliser XML, convertissons-le !</li><li class="item">Avec ce fichier <span class="ident">document.xml</span> ouvert dans l’écran principal, sélectionnez <span class="ident">Transformation -&gt; Configurer les Scénario(s) de Transformation</span> du menu <span class="ident">Document</span>. Ou tapez <span class="ident">Ctrl</span> + <span class="ident">Maj</span> + <span class="ident">C</span>. Ou cliquez sur la petite icône en forme de clef à molette (celui-ci : <img src="../images/spanner.png" alt="" class="graphic" style=" height:7mm;" />)</li><li class="item">oXygen vous présente les options de transformation disponibles pour ce document, parmi lesquelles devrait figurer une transformation nommée DOCX TEI P5. </li></ul><p><img class="graphic" src="../images/configurer-1.png" alt="" style=" height:7cm;" /></p><ul><li class="item">Sélectionnez la case à cocher correspondante et cliquez sur le bouton <span class="ident">Appliquer associés</span> au dessous. Une nouvelle fenêtre s’ouvre en bas pour l’affichage des messages concernant le processus de transformation : vous pouvez les ignorer sans problème.</li><li class="item">Dans l’écran principal, un document TEI-conforme s’affiche. Sélectionnez <span class="ident">Source -&gt; Format and Indent</span> du menu <span class="ident">Document</span> menu, ou tapez <span class="ident">Ctrl</span> + <span class="ident">Maj</span> + <span class="ident">P</span> ou cliquez sur le bouton <span class="ident">Indent</span> (celui-ci : <img src="../images/indent.png" alt="" class="graphic" style=" height:7mm;" />) pour regarder sa structure</li><li class="item">L’attribut <span class="att">rend</span> indique le nom du style Word utilisé dans cette portion du document original. Une transformation XSLT plus complexe pourrait donc s’en servir pour effectuer une conversion plus intelligente.</li></ul></div><div class="teidiv0" id="index.xml-body.1_div.6"><h2><span class="headingNumber">6. </span></h2><p>La question qui s’impose : quelles balises devraient être disponibles pour une représentation efficace des aspects les plus signifiants du document ?</p></div><!--TEI back--><div class="stdfooter autogenerated"><div class="footer"><!--standard links to project, institution etc--><a class="plain" href="/">Home</a> </div><address>Lou Burnard Consulting.
	    Date: 2017-02<br /><!--
	  Generated from index.xml using XSLT stylesheets version 7.41.0

	       based on http://www.tei-c.org/Stylesheets/
	       on 2017-02-17T19:02:30Z.
	       SAXON PE 9.6.0.7.
		 --></address></div></body></html>